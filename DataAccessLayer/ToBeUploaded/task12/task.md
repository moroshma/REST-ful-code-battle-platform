> Очный заключительный этап III Всероссийской заочной олимпиады
> школьников по программированию\
> Московская олимпиада по информатике\
> Первый тур Москва, 8-9 марта 2009 года
>
> **Задача B. Праздничные открытки**
>
> Имя входного файла:\
> Имя выходного файла:\
> Максимальное время работы на одном тесте:Максимальный объем
> используемой памяти:
>
> b.in\
> b.out\
> 1 секунда\
> 64 мегабайта
>
> Петя с Васей решили поздравить всех своих одноклассниц с Международным
> Женским Днем. Важной частью любого праздника являются открытки. Купив
> их достаточно, друзья сели писать пожелания. Подписанные открытки они
> складывали на специальный стол, расчерченный в квадратную клетку
> параллельно краям стола так, что длина и ширина его составляли *N* и
> *M* клеток соответственно. По удивительному совпадению каждая открытка
> была размером точь-в-точь с две клетки стола. Петя настоял на том,
> чтобы класть подписанные поздравления строго по линиям сетки ---
> горизонтально или вертикально, накрывая одной открыткой ровно две
> клетки.
>
> По окончанию работы оказалось, что каждая клетка стола накрыта ровно
> двумя открытками --- крайне неудобное расположение для того, чтобы их
> дарить. К счастью, рядом был еще один такой же стол, поэтому они
> решили переложить на него половину открыток так, чтобы остальные,
> оставаясь на своем месте, образовывали ровно один слой --- не
> накладывались друг на друга и полностью покрывали бы стол. Чтобы не
> нарушать порядка, открытки надо доставать по одной, извлекать
> очередную разрешается только в случае, если хотя бы одна из ее
> половинок лежит сверху (то есть эту половинку не накрывает другая
> открытка).
>
> Поскольку одноклассниц у Пети и Васи довольно много, они обратились за
> помощью к Вам. Напишите программу, которая подскажет, какие открытки
> извлекать и в какой последовательности, либо определит, что это
> невозможно.
>
> ***Формат входных данных***
>
> В первой строке входного файла записаны два целых числа *N* и *M* (1 ≤
> *N*, *M* ≤ 700) --- длина и ширина стола. Гарантируется, что хотя бы
> одно из *N*, *M* четное. Будем считать, что все открытки занумерованы
> числами от 1 до *NM*. Следующие 2*N* строк содержат по *M* чисел:
> первые *N* строк описывают нижний слой, следующие *N* строк ---
> верхний слой. Число *k* в *i*-й строке *j*-м столбце нижнего или
> верхнего слоя означает наличие на этой позиции одной из половинок
> открытки номер *k*.
>
> Гарантируется, что входные данные корректны, то есть что каждое число
> 1 до *NM* встречается ровно два раза, и эти вхождения находятся на
> соседних позициях, при этом они могут находиться как в одном слое, так
> и в разных. Кроме того, если две открытки покрывают одни и те же
> клетки, то одна из них находится обеими половинками снизу, а другая
> --- сверху.
>
> ***Формат выходных данных***
>
> В выходной файл запишите единственное слово NO, если не существует
> способа извлечь половину открыток нужным образом. В противном случае в
> первую строку выведите YES, во вторую --- последовательность из *NM/*2
> номеров открыток, которые надо достать, в правильном порядке. У каждой
> из них на момент извлечения хотя бы одна из половинок должна
> находиться сверху. Если искомых последовательностей несколько,
> выведите любую из них.
>
> ***Примеры***

+-----------------------------------+-----------------------------------+
| **b.in**                          | **b.out**                         |
+===================================+===================================+
| > 2 2\                            | > YES\                            |
| > 1 1\                            | > 4 2                             |
| > 3 2\                            |                                   |
| > 4 2\                            |                                   |
| > 4 3                             |                                   |
+-----------------------------------+-----------------------------------+
| > 2 3\                            | > YES\                            |
| > 1 1 4\                          | > 2 6 5                           |
| > 2 3 4\                          |                                   |
| > 2 6 5\                          |                                   |
| > 3 6 5                           |                                   |
+-----------------------------------+-----------------------------------+

> ***Частичные ограничения***
>
> Первая группа состоит из тестов, в которых произведение *NM* ≤
> 24.Вторая группа состоит из тестов, в которых *N, M* ≤ 100.

Страница 2 из 4
