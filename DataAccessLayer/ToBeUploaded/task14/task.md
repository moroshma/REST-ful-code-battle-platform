> Очный заключительный этап III Всероссийской заочной олимпиады
> школьников по программированию\
> Московская олимпиада по информатике\
> Первый тур Москва, 8-9 марта 2009 года
>
> **Задача D. Сообщающиеся сосуды**
>
> Имя входного файла:\
> Имя выходного файла:\
> Максимальное время работы на одном тесте:Максимальный объем
> используемой памяти:
>
> d.in\
> d.out\
> 2 секунды\
> 64 мегабайта
>
> Сегодня на уроке физики рассказывали удивительные вещи. Придя домой,
> Витя решил проверить слова учителя о том, что если взять два
> одинаковых сосуда, соединенных тонкой трубкой на уровне основания, то
> уровень жидкости при любом ее количестве также будет одинаковым для
> обоих сосудов.
>
> Способ убедиться в правильности утверждения Витя избрал довольно
> оригинальный. Он взял аквариум с основанием длиной *N* и шириной 1,
> очень высокими стенками, и поставил *N* --1 перегородку параллельно
> узкой боковой стенке аквариума, тем самым, разделив аквариум на *N*
> одинаковых отсеков. Каждая перегородка имеет ширину 1 и очень большую
> высоту. Толщиной перегородки можно пренебречь. В каждой из перегородок
> есть точечное отверстие на высоте *Hi*, диаметром которого также можно
> пренебречь. После всех этих приготовлений Витя медленно наливает в
> первый отсек (между стенкой и 1ой перегородкой) *C* литров воды. В
> часть аквариума размером 1⋅1⋅1 вмещается ровно один литр воды. Так как
> стенки и перегородки в аквариуме были очень высокими, то через край
> вода не переливалась. После установления стационарного состояния он
> замерил уровень жидкости в каждом из *N* сосудов.
>
> Теперь он хочет убедиться, что его экспериментальные данные не
> опровергают законы, рассказанные на уроке. Он обратился к вам с
> просьбой выяснить, какой должна быть высота жидкости в каждом из
> сосудов с теоретической точки зрения.
>
> Рассмотрим подробно случай *N* = 3. Пусть сначала *H*1 \< *H*2. Как
> только жидкость в первом отсеке достигнет уровня первого отверстия,
> вода станет поступать во второй отсек до тех пор, пока уровни в обоих
> отсеках не сравняются (или уровень воды в первом отсеке окажется
> равным *H*1, тогда во втором отсеке он будет на уровне *С* -- *H*1).
> Далее уровень жидкости в первых двух частях будет увеличиваться
> равномерно (или не будет меняться). Как только вода достигнет второго
> отверстия, вся она будет поступать в третий отсек, опять же до тех
> пор, пока уровни жидкости во всех трех частях не сравняются или вода в
> первых двух отсеках достигнет уровня *H*2. После этого, если воды
> оказалось достаточно, весь аквариум будет заполняться равномерно.
>
> Пусть теперь *H*1 \> *H*2. Как только жидкость в первом отсеке
> достигнет уровня первого отверстия, вся вода станет поступать во
> второй отсек. Если после этого уровень во втором отсеке сравняется с
> уровнем второго отверстия, то вода станет выливаться в третий до тех
> пор, пока высоты жидкостей во втором и третьем отсеках не станут
> равными. Далее уровень воды в них будет равномерно увеличиваться, пока
> не достигнет первого отверстия. После этого весь аквариум будет
> заполняться равномерно.
>
> ***Формат входных данных***
>
> В первой строке записаны целые *N* и *C* (1 ≤ *N* ≤ 100000, 0 ≤ *C* ≤
> 2\*109). В следующих *N* --1 строках содержится по одному целому числу
> *Hi* (0 ≤ *Hi* ≤ 2\*109), обозначающему высоту отверстия в *i*-й
> перегородке.
>
> ***Формат выходных данных***
>
> Выведите *N* чисел, каждое на новой строке, с точностью до шести
> знаков после десятичной точки ---уровень жидкости в 1, 2, \..., *N*
> отсеке соответственно.
>
> ***Примеры***

+-----------------------------------+-----------------------------------+
| **d.in**                          | **d.out**                         |
+===================================+===================================+
| > 4 4\                            | > 3\                              |
| > 3\                              | > 1\                              |
| > 2\                              | > 0\                              |
| > 1                               | > 0                               |
+-----------------------------------+-----------------------------------+
| > 4 10\                           | > 3\                              |
| > 1\                              | > 3\                              |
| > 2\                              | > 3\                              |
| > 3                               | > 1                               |
+-----------------------------------+-----------------------------------+

> ***Частичные ограничения***
>
> Первая группа состоит из тестов, в которых *N* ≤ 100.\
> Вторая группа состоит из тестов, в которых *N* ≤ 10000.

Страница 4 из 4
